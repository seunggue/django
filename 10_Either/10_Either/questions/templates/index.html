{% extends 'base.html' %}
{% block body %}
{% load static %}
<br>
<br>
<br>
<a href="{% url 'questions:detail' random_question.id %}" style="position: relative; left:40%; top:20%;"><img src="{% static 'RANDOM.png' %}" alt=""></a>
<br>
<br>
<br>
<div class="bd-example border boder-warnng rounded rounded-lg">
  <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      {% for question in questions %}
        <li data-target="#carouselExampleCaptions" data-slide-to="{{ forloop.counter }}" class="active"></li>
      {% endfor %}
    </ol>
    <div class="carousel-inner">      
      <img src="{% static 'create.png' %}" class="d-block w-100" alt="...">
      {% for question in questions %}
        {% if forloop.counter == 1 %}
        <div class="carousel-item active">          
            <div class="carousel-caption d-none d-md-block" style="bottom: 30%; right: 5%; left: 5%;">
              <div class="d-flex justify-content-between">
                <div class="card" style="width: 18rem;">
                  <div class="card-body bg-secondary">
                    <h5 class="card-title" style="font-size: 5em;">{{question.pick_1}}</h5>
                    <p class="card-text">{{question.choice_set.all.0.pick_1_count}}</p>
                  </div>
                </div>
                <div class="card" style="width: 18rem;">
                  <div class="card-body bg-secondary">
                    <h5 class="card-title" style="font-size: 5em;">{{question.pick_2}}</h5>
                    <p class="card-text">{{question.choice_set.all.0.pick_2_count}}</p>
                  </div>
                </div>
            </div>
            <h1 class="mt-5 text-primary" ><a href="{% url 'questions:detail' question.id %}">클릭! 지금 바로 투표하세요!</a></h1>
            </div>
          </div>
        {% else %}
        <div class="carousel-item">          
            <div class="carousel-caption d-none d-md-block" style="bottom: 30%; right: 5%; left: 5%;">
              <div class="d-flex justify-content-between">
                <div class="card" style="width: 18rem;">
                  <div class="card-body bg-secondary">
                    <h5 class="card-title" style="font-size: 5em;">{{question.pick_1}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">{{question.choice_set.all.0.pick_1_count}}</p>
                  </div>
                </div>
                <div class="card" style="width: 18rem;">
                  <div class="card-body bg-secondary">
                    <h5 class="card-title" style="font-size: 5em;">{{question.pick_2}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                    <p class="card-text">{{question.choice_set.all.0.pick_2_count}}</p>
                  </div>
                </div>
            </div>
            <h1 class="mt-5 text-primary" ><a href="{% url 'questions:detail' question.id %}">클릭! 지금 바로 투표하세요!</a></h1>
           </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    <a class="carousel-control-prev bg-info" href="#carouselExampleCaptions" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="false"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next bg-info" href="#carouselExampleCaptions" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="false"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
<h1 style="text-align: center; margin-top:40px; font-size:5rem;">와우! 너무 즐겁다!</h1>
<h2 style="text-align: center; color:red">Use Full screen to full experience</h1>
{% endblock %}